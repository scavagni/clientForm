<!DOCTYPE html>
<html>
<head>
    <style>
        p{
            color:red;
        }
        .error {
            border: 1px solid red;
            background-color: lightyellow;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">Prova Form di validazione lato Client</h1>
    <form name="registrazione" id="registrazione">

        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" value=""><br>
        <p id="usernameCheck"></p>

        <label for="pwd">Password:</label><br>
        <input type="password" id="pwd" name="pwd" ><br>
        <p id="pswCheck"></p>

        <label for="birthday">Birthday:</label>
        <input type="date" id="birthday" name="birthday" min="1900-01-01" max="24-01-25"> <br><br>   <!-- Fino ad oggi -->

        <input type="submit" name="Submit" value="Invia">

    </form>

    <script>

        document.getElementById("registrazione").addEventListener("submit", function(event){
            let username = document.forms.registrazione.username;
            let passw = document.forms.registrazione.pwd;
            let email = document.forms.registrazione.email;
            let birthday = document.forms.registrazione.birthday;

            if(username.value == "" || username.value.length < 3 || username.value.length > 15){
                document.getElementById("usernameCheck").innerText = "Username non valido";
                document.getElementById("username").classList.add("error");
                event.preventDefault();
            } else {
                document.getElementById("usernameCheck").innerText = "";
                document.getElementById("username").classList.remove("error");
            }

            if(passw.value == "" || passw.value.length < 8 || passw.value.length > 10 || !checkPassword(passw.value)){
                document.getElementById("pswCheck").innerText = "Password non valida";
                document.getElementById("password").classList.add("error");
                event.preventDefault();
            } else {
                document.getElementById("pswCheck").innerText = "";
                document.getElementById("password").classList.remove("error");
            }

        });
		
		function checkPassword(str){
			var re = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;
			return re.test(str);
		}

    </script>

</body>

</html>
